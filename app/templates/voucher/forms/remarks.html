{# app/templates/voucher/forms/remarks.html #}
{% extends 'partials/_modal.html' %}
{% block modal_body %}
  <form
    class="d-flex flex-column gap-2 h-100"
    method="post"
    hx-post="{{ url_for('voucher.mark_as_returned', voucher_id=voucher.id) }}"
    hx-swap="none"
    hx-trigger="submit"
  >
    <div class="row h-100">
      <div class="col-12 d-flex flex-column flex-grow-1">
        {{ form.remarks.label(class="form-label text-muted") }}
        <div class="flex-wrapper flex-grow-1">
          {{
            form.remarks(
                 class="form-control" + (' is-invalid' if form.remarks.errors else ''),
                 maxlength=2000,
                 required=True,
                 rows=4
            )
          }}
        </div>
        {% for err in form.remarks.errors %}
          <div class="invalid-feedback">{{ err }}</div>
        {% endfor %}
      </div>
    </div>

    <div class="d-flex justify-content-end gap-2">
      <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal" aria-label="Close">Cancel</button>
      <button type="submit" class="btn btn-primary"><i class="bi bi-floppy me-1"></i> Save</button>
    </div>
  </form>
{% endblock %}
