{# app/templates/voucher/fragments/todays.html #}
<table class="todays-table">
  <thead>
    <tr class="voucher-row text-muted">
      <th class="text-center" scope="col">Voucher ID</th>
    </tr>
  </thead>

  <tbody>
    {% for voucher in vouchers %}
      <tr
        class="voucher-row"
        hx-get="{{ url_for('voucher.preview_voucher', voucher_id=voucher.id) }}"
        hx-target="#preview"
        hx-swap="innerHTML"
        style="cursor: pointer;"
      >
        <td class="refnum-col text-center">{{ voucher.reference_number }}</td>
      </tr>
    {% else %}
      <tr>
        <td colspan="1" class="text-center text-muted">No vouchers found</td>
      </tr>
    {% endfor %}
  </tbody>
</table>

<style>
  .todays-table {
    width: 100%;
    table-layout: fixed;
    border-collapse: collapse;
    max-height: 100%;
  }

  .todays-table th,
  .todays-table td {
    padding: 0.75rem 0.75rem; /* uniform padding */
    vertical-align: middle;
    overflow-wrap: break-word;
    word-break: break-word;
    white-space: nowrap;
    border-bottom: 1px solid #dee2e6;
    text-align: center;
  }

  .todays-table thead th {
    position: sticky;
    top: 0;
    background-color: #f8f9fa;
    z-index: 2;
    background-color: white;
    font-weight: 600;
    text-align: center; /* center header text for better alignment */
  }

  .todays-table tbody tr:hover {
    background-color: #f1f3f5;
  }

  .todays-table td {
    overflow: hidden;
    white-space: nowrap;
  }

  /* highlight the row that is currently in view */
  .todays-table tbody tr.active-row {
    background-color: #e7f1ff; /* light blue background */
    transition: background-color 0.2s ease-in-out;
  }
  .todays-table tbody tr.active-row td {
    font-weight: 600; /* optional bold text */
  }

  .todays-table tbody tr {
    scroll-margin-top: 40px; /* match or slightly exceed header height */
  }

  /* Remove native black focus ring */
  .voucher-row:focus {
    outline: none;
  }
</style>
